# woniu

### 👥 成员与分工
* **谢先旺**：RK3568 移植、WEB、云服务器部署、主程序网关开发
* **祁异凡**：STM32 开发
* **孙宇豪**：QT 开发

---

### 📝 项目日志

**#2026-2-3**
1. **移植 mjpg-streamer, sqlite, json, mongoose, mqtt**
   - **遇到的问题**：第三方库版本过老导致语法不匹配，编译不通过。
   - **解决方案**：通过手动修改语法完成编译。
2. **OV5695 摄像头推流**
   - **遇到的问题**：支持的视频格式与 mjpg-streamer 不匹配，无法推流。
   - **解决方案**：改用 USB 自带驱动摄像头，并尝试其他视频推流格式。

**#2026-2-5**
1. **主程序开发，实现 WEB 端端口通信，视频推流**
   - **遇到的问题**：交叉编译的库不匹配。
   - **解决方案**：下载更高版本的库，匹配语法和功能。
2. **OV5695 摄像头推流**
   - **遇到的问题**：http 端到端的通信，json 格式。
   - **解决方案**：端口隔离。

**#2026-2-7**
1. **主程序开发，实现 MQTT 通信，获取传感器数据**
   - **遇到的问题**：RK3568，MQTT 无法连接。
   - **解决方案**：一步步排查问题。先在本地部署 MQTT 服务器尝试本地回环通信，发现主程序正常运行；再排查服务器 MQTT 是否能正常连接，其他设备使用 MQTT 连接服务器正常；最后排查 RK3568 网络问题，通过修改 RK3568 的 DNS 解决了问题。

**#2026-2-8**
1. **主程序开发，实现录像和拍照功能**
   - **遇到的问题**：录像和 web 推流抢占摄像头。
   - **解决方案**：在主程序由摄像头类接管分发资源。

---

### ✅ 项目进度【已完成】
* 交叉编译环境搭建。
* 五大第三方库（FRP、mjpg-streamer、SQLite、Mongoose、MQTT）移植。
* USB 摄像头硬件取流。
* FRP 公网穿透访问、云服务器 MQTT 部署与通信。

---

### 🚀 下一步计划
1. 完成拍照和录制视频功能（预计 1 天）。
2. 实现 MQTT 处理传感器数据（预计 1 天）。
3. 完成 QT 界面开发（预计 1 天）。
